# ============================================================
# DreamCanvas API - Environment Configuration
# ============================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# ============================================================

# ==================== Application ====================
APP_NAME=DreamCanvas API
APP_VERSION=1.0.0
DEBUG=true
ENVIRONMENT=development

# ==================== Server ====================
HOST=0.0.0.0
PORT=8000
WORKERS=1
RELOAD=true

# ==================== Async Generation ====================
GENERATION_ASYNC=true

# ==================== Database ====================
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://dreamcanvas:localdev123@localhost:5432/dreamcanvas
SYNC_DATABASE_URL=postgresql://dreamcanvas:localdev123@localhost:5432/dreamcanvas
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_ECHO=false

# ==================== Redis ====================
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600

# ==================== Security ====================
# IMPORTANT: Generate a secure key for production!
# Run: openssl rand -hex 32
SECRET_KEY=dev-secret-key-change-in-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==================== CORS ====================
# Comma-separated list of allowed origins
CORS_ORIGINS=["http://localhost:3000","http://localhost:8081"]

# ==================== External APIs ====================
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# Get your API key from: https://platform.openai.com/
OPENAI_API_KEY=your-openai-api-key-here
DEFAULT_IMAGE_PROVIDER=dalle
DALLE_MODEL=dall-e-3
DALLE_DEFAULT_SIZE=1024x1024
DALLE_DEFAULT_QUALITY=standard
DALLE_DEFAULT_STYLE=vivid

# Optional: Stability AI
STABILITY_API_KEY=

# ==================== Storage ====================
STORAGE_PROVIDER=local
LOCAL_STORAGE_PATH=./storage
LOCAL_STORAGE_URL=http://localhost:8000/storage

# ==================== Storage (S3/R2) ====================
S3_BUCKET_NAME=dreamcanvas-images
S3_REGION=us-east-1
S3_ACCESS_KEY=
S3_SECRET_KEY=
# For Cloudflare R2 or MinIO, set endpoint URL:
# S3_ENDPOINT_URL=https://your-account.r2.cloudflarestorage.com

# ==================== Rate Limiting ====================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
GENERATION_LIMIT_PER_HOUR=10

# ==================== Celery ====================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_ALWAYS_EAGER=false

# ==================== Logging ====================
LOG_LEVEL=INFO

# ==================== WebSocket ====================
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS_PER_USER=5